<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>XIOMA FX ‚Äî Order Monitor (Demo)</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --line2:#d1d5db;
      --blue:#2563eb;
      --blue2:#1d4ed8;
      --chip:#f3f4f6;
      --chipText:#374151;
      --shadow: 0 1px 2px rgba(0,0,0,.04);
      --radius: 10px;
      --radius2: 8px;
      --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:var(--bg);
    }
    a{color:inherit; text-decoration:none}
    /* Top nav */
    .topbar{
      height:56px;
      background:var(--card);
      border-bottom:1px solid var(--line);
      display:flex;
      align-items:center;
      padding:0 18px;
      gap:18px;
    }
    .brand{
      font-weight:800;
      letter-spacing:.2px;
      color:#0b3bff;
    }
    .menu{display:flex; gap:16px; align-items:center; color:#111827}
    .menu .item{font-weight:600; font-size:14px; color:#111827}
    .menu .item .caret{font-size:12px; color:var(--muted); margin-left:6px}
    .spacer{flex:1}
    .user{
      font-size:14px;
      color:#111827;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .icon-btn{
      width:32px; height:32px;
      border:1px solid var(--line);
      background:#fff;
      border-radius:8px;
      display:grid; place-items:center;
      cursor:pointer;
    }
    .icon{font-size:16px; color:var(--muted)}
    /* Page */
    .page{
      padding:18px;
    }
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }
    .header{
      padding:16px 16px 10px 16px;
      display:flex;
      align-items:flex-start;
      gap:16px;
    }
    .hgroup{display:flex; flex-direction:column; gap:8px}
    .title{
      font-size:18px;
      font-weight:800;
      margin:0;
    }
    .subline{
      display:flex; align-items:center; gap:10px;
      color:var(--muted);
      font-size:13px;
    }
    /* Switch */
    .switch{
      position:relative; width:38px; height:20px;
      background:#d1d5db;
      border-radius:999px;
      cursor:pointer;
      display:inline-block;
      vertical-align:middle;
    }
    .switch::after{
      content:"";
      position:absolute; top:2px; left:2px;
      width:16px; height:16px;
      background:#fff;
      border-radius:999px;
      transition:all .15s ease;
      box-shadow:0 1px 2px rgba(0,0,0,.12);
    }
    .switch.on{background:#60a5fa}
    .switch.on::after{left:20px}
    /* Buttons */
    .actions{margin-left:auto; display:flex; gap:10px; align-items:center}
    .btn{
      height:34px;
      padding:0 12px;
      border-radius:8px;
      font-weight:700;
      font-size:13px;
      border:1px solid var(--line2);
      background:#fff;
      color:#111827;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn.primary{
      background:var(--blue);
      color:#fff;
      border-color:var(--blue);
    }
    .btn.primary:hover{background:var(--blue2)}
    .btn.ghost{
      color:var(--blue);
      border-color:#bfdbfe;
      background:#eff6ff;
    }
    .btn:active{transform:translateY(1px)}
    /* Filters row */
    .filters{
      padding:0 16px 16px 16px;
      display:grid;
      grid-template-columns: minmax(220px, 0.7fr) auto;
      gap:12px;
      align-items:end;
    }
    .field label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin-bottom:6px;
      font-weight:700;
    }
    .input, .select, .chips{
      height:34px;
      border:1px solid var(--line2);
      border-radius:8px;
      background:#fff;
      padding:0 10px;
      font-size:13px;
      outline:none;
      width:100%;
    }
    .input:focus, .select:focus, .chips:focus-within{
      border-color:#93c5fd;
      box-shadow:0 0 0 3px rgba(59,130,246,.15);
    }
    .chips{
      display:flex;
      align-items:center;
      gap:6px;
      padding:4px 6px;
      overflow:hidden;
    }
    .chip{
      background:var(--chip);
      color:var(--chipText);
      border:1px solid var(--line);
      border-radius:999px;
      padding:4px 8px;
      font-size:12px;
      font-weight:700;
      display:inline-flex;
      align-items:center;
      gap:6px;
      white-space:nowrap;
    }
    .chip .x{
      width:16px; height:16px;
      border-radius:999px;
      display:grid; place-items:center;
      font-size:12px;
      color:#6b7280;
      cursor:pointer;
    }
    .chip .x:hover{background:#e5e7eb}
    .chips input{
      border:none;
      outline:none;
      font-size:13px;
      min-width:90px;
      flex:1;
    }
    .filter-actions{
      display:flex;
      gap:10px;
      justify-content:flex-end;
      align-items:center;
    }
    .btn.small{height:34px}
    /* Main layout */
    .content{
      border-top:1px solid var(--line);
      display:grid;
      grid-template-columns: 220px 1fr;
      min-height:520px;
    }
    .sidebar{
      border-right:1px solid var(--line);
      padding:12px 0;
    }
    .side-title{
      padding:0 14px 10px 14px;
      font-size:12px;
      color:var(--muted);
      font-weight:800;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .pair-list{
      max-height:520px;
      overflow:auto;
      padding:0 6px;
    }
    .pair{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:8px 10px;
      margin:2px 6px;
      border-radius:10px;
      cursor:pointer;
      font-size:13px;
      border:1px solid transparent;
    }
    .pair:hover{background:#f9fafb; border-color:var(--line)}
    .pair.active{background:#eef2ff; border-color:#c7d2fe}
    .pair .code{font-weight:800}
    .pair .count{color:var(--muted); font-variant-numeric:tabular-nums}
    /* Table toolbar */
    .tablebar{
      padding:10px 12px;
      display:flex;
      align-items:center;
      gap:10px;
      color:var(--muted);
      font-size:13px;
    }
    .tablebar .tool{
      display:inline-flex;
      align-items:center;
      gap:8px;
      color:#9ca3af;
      font-weight:700;
      user-select:none;
    }
    .tablebar .sep{width:1px; height:18px; background:var(--line); margin:0 6px}
    /* Table */
    .table-wrap{overflow:auto; border-top:1px solid var(--line)}
    table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      min-width:980px;
      font-size:13px;
    }
    thead th{
      position:sticky;
      top:0;
      background:#fff;
      z-index:2;
      text-align:left;
      color:#111827;
      font-weight:800;
      border-bottom:1px solid var(--line);
      padding:10px 10px;
      white-space:nowrap;
    }
    tbody td{
      border-bottom:1px solid var(--line);
      padding:10px 10px;
      white-space:nowrap;
      color:#111827;
      vertical-align:middle;
    }
    tbody tr:hover{background:#fafafa}
    .num{font-variant-numeric:tabular-nums; text-align:right}
    .muted{color:var(--muted)}
    .checkbox{width:36px}
    .kebab{
      width:34px;
      text-align:center;
      color:#9ca3af;
      font-weight:900;
      cursor:pointer;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .bulb{
      width:18px; height:18px;
      border-radius:999px;
      display:grid; place-items:center;
      border:1px solid #fcd34d;
      background:#fffbeb;
      color:#b45309;
      font-size:12px;
      font-weight:900;
    }
    /* Utility */
    .right{margin-left:auto}
    .hidden{display:none !important}
  </style>
</head>

<body>
  <div class="topbar">
    <div class="brand">XIOMA FX</div>
    <nav class="menu">
      <a class="item" href="#">Deals <span class="caret">‚ñæ</span></a>
      <a class="item" href="#">Rates <span class="caret">‚ñæ</span></a>
      <a class="item" href="#">Data <span class="caret">‚ñæ</span></a>
      <a class="item" href="#">Services <span class="caret">‚ñæ</span></a>
      <a class="item" href="#">Audit</a>
    </nav>
    <div class="spacer"></div>
    <div class="user">
      <span>–ì–ª–∞–≤–∫–æ–≤ –ê.–ò.</span>
      <button class="icon-btn" title="–ü—Ä–æ—Ñ–∏–ª—å"><span class="icon">‚éã</span></button>
    </div>
  </div>

  <div class="page">
    <div class="card">
      <div class="header">
        <div class="hgroup">
          <h1 class="title">Order Monitor</h1>
          <div class="subline">
            <span id="toggleAll" class="switch" role="switch" aria-checked="false"></span>
            <span>Switch to Order Blotter</span>
          </div>
        </div>

        <div class="actions">
          <!-- Export —É–±—Ä–∞–Ω –ø–æ –≤–∞—à–µ–º—É —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é -->
          <button class="btn primary" id="newOrderBtn">Ôºã New Order</button>
        </div>
      </div>

      <div class="filters">
        <div class="field">
          <label>Capture Date</label>
          <input id="createDate" class="input" type="date" />
        </div>

        <div class="filter-actions">
          <button class="btn small" id="resetBtn">Reset</button>
          <button class="btn small primary" id="searchBtn">Search</button>
        </div>
      </div>

      <div class="content">
        <!-- Left sidebar -->
        <aside class="sidebar">
          <div class="side-title">
            <span>Currency Pair</span>
            <span class="icon" title="Refresh">‚ü≥</span>
          </div>
          <div class="pair-list" id="pairList">
            <!-- rendered by JS -->
          </div>
        </aside>

        <!-- Table -->
        <section>
          <div class="tablebar">
            <span class="tool">‚ü≤ Convert to Deal</span>
            <span class="tool">‚úâ Send to NT Pro</span>
            <span class="tool">‚úâ Send to NT Pro 2</span>
            <span class="tool">‚úï Cancel Order</span>
            <span class="right muted" id="resultHint"></span>
          </div>

          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th class="checkbox"></th>
                  <th>Capture Date</th>
                  <th>Client</th>
                  <th>Valid Till</th>
                  <th class="num">Sell Amount</th>
                  <th class="num">Rate</th>
                  <th class="num">Buy Amount</th>
                  <th>Market Touch</th>
                  <th>Market Exposure</th>
                  <th class="kebab"></th>
                </tr>
              </thead>
              <tbody id="tbody">
                <!-- rows by JS -->
              </tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    // ------- Demo data -------
    const pairCodes = ["USDRUB", "EURRUB", "CNYRUB"];

    const rows = [
      mkRow({pair:"USDRUB", captured:"05.06.2025, 11:15", client:'–û–û–û "–†–æ–º–∞—à–∫–∞"', valid:"06.06.2025, 09:30", sell:null, rate:77.80000, buy:15000000000, mt:"bulb", exec:"NT Pro"}),
      mkRow({pair:"USDRUB", captured:"05.06.2025, 10:25", client:'–û–û–û "–ú–∞–∫"', valid:"06.06.2025, 15:10", sell:4500000, rate:78.50000, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"USDRUB", captured:"05.06.2025, 12:05", client:'–û–û–û "–í–∞—Å–∏–ª–µ–∫"', valid:"06.06.2025, 11:45", sell:300000, rate:78.13000, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"USDRUB", captured:"05.06.2025, 10:40", client:'–û–û–û "–ö–∞–∫—Ç—É—Å"', valid:"05.06.2025, 16:05", sell:null, rate:77.70000, buy:17000000000, mt:null, exec:"NT Pro"}),
      mkRow({pair:"USDRUB", captured:"05.06.2025, 10:05", client:'–û–û–û "–ö–∞–∫—Ç—É—Å"', valid:"05.06.2025, 14:20", sell:null, rate:77.65000, buy:30000000000, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:43", client:'–û–û–û "–†–æ–º–∞—à–∫–∞"', valid:"06.06.2025, 03:15", sell:null, rate:91.00649, buy:8937869, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:54", client:'–û–û–û "–†–æ–∑–∞"', valid:"05.06.2025, 16:58", sell:null, rate:91.05002, buy:9328452, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:02", client:'–û–û–û "–í–µ—Ä–±–µ–Ω–∞"', valid:"06.06.2025, 16:58", sell:null, rate:91.06420, buy:10684847, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:49", client:'–û–û–û "–õ–æ—Ç–æ—Å"', valid:"05.06.2025, 21:35", sell:null, rate:91.13238, buy:19131404, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:34", client:'–û–û–û "–°—Ç—Ä–µ–ª–∏—Ü–∏—è"', valid:"05.06.2025, 15:27", sell:null, rate:91.17131, buy:16407133, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:19", client:'–û–û–û "–ë–∞—Ä–≤–∏–Ω–æ–∫"', valid:"06.06.2025, 06:18", sell:null, rate:91.18182, buy:1680963, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:51", client:'–û–û–û "–ò—Ä–∏—Å"', valid:"05.06.2025, 18:48", sell:null, rate:91.18865, buy:14563677, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:58", client:'–û–û–û "–ì–≤–æ–∑–¥–∏–∫–∞"', valid:"06.06.2025, 12:31", sell:null, rate:91.19684, buy:13609728, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:55", client:'–û–û–û "–ú–∞–∫"', valid:"06.06.2025, 01:19", sell:null, rate:91.22310, buy:14688301, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:05", client:'–û–û–û "–§–∏–∞–ª–∫–∞"', valid:"06.06.2025, 07:37", sell:null, rate:91.24965, buy:12801506, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:58", client:'–û–û–û "–õ–∏–ª–∏—è"', valid:"06.06.2025, 06:37", sell:null, rate:91.26462, buy:19261026, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:06", client:'–û–û–û "–¢—é–ª—å–ø–∞–Ω"', valid:"05.06.2025, 19:15", sell:null, rate:91.27908, buy:3539167, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:55", client:'–û–û–û "–ö–ª–µ–≤–µ—Ä"', valid:"06.06.2025, 05:38", sell:null, rate:91.28574, buy:4785216, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:46", client:'–û–û–û "–ù–∞—Å—Ç—É—Ä—Ü–∏—è"', valid:"05.06.2025, 20:01", sell:null, rate:91.30568, buy:5520686, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:32", client:'–û–û–û "–û—Ä—Ö–∏–¥–µ—è"', valid:"05.06.2025, 21:40", sell:null, rate:91.31096, buy:11394238, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:53", client:'–û–û–û "–ì–ª–∞–¥–∏–æ–ª—É—Å"', valid:"06.06.2025, 02:11", sell:null, rate:91.32531, buy:12020906, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:49", client:'–û–û–û "–ê—Å—Ç—Ä–∞"', valid:"05.06.2025, 13:58", sell:null, rate:91.32927, buy:172322, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:46", client:'–û–û–û "–ì–∏–∞—Ü–∏–Ω—Ç"', valid:"06.06.2025, 11:54", sell:null, rate:91.34228, buy:8314491, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:16", client:'–û–û–û "–í–∞—Å–∏–ª–µ–∫"', valid:"06.06.2025, 16:02", sell:null, rate:91.35730, buy:3670554, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:12", client:'–û–û–û "–ì–∏–∞—Ü–∏–Ω—Ç"', valid:"05.06.2025, 17:52", sell:null, rate:91.37980, buy:7404829, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:08", client:'–û–û–û "–ü–∏–æ–Ω"', valid:"05.06.2025, 13:33", sell:null, rate:91.43728, buy:17056909, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:39", client:'–û–û–û "–†–∞–Ω—É–Ω–∫—É–ª—é—Å"', valid:"05.06.2025, 22:51", sell:null, rate:91.47890, buy:8182309, mt:"bulb", exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:37", client:'–û–û–û "–ü–∏–æ–Ω"', valid:"06.06.2025, 05:50", sell:null, rate:91.48599, buy:15970338, mt:"bulb", exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:33", client:'–û–û–û "–ù–∞—Ä—Ü–∏—Å—Å"', valid:"06.06.2025, 09:33", sell:1557954, rate:91.52904, buy:null, mt:"bulb", exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:57", client:'–û–û–û "–ñ–∞—Å–º–∏–Ω"', valid:"06.06.2025, 11:22", sell:2495870, rate:91.53396, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:20", client:'–û–û–û "–¢—é–ª—å–ø–∞–Ω"', valid:"05.06.2025, 21:01", sell:16387807, rate:91.55695, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:55", client:'–û–û–û "–ù–∞—Ä—Ü–∏—Å—Å"', valid:"05.06.2025, 18:37", sell:8482113, rate:91.55709, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:02", client:'–û–û–û "–ö–∞–º–µ–ª–∏—è"', valid:"06.06.2025, 15:12", sell:2777374, rate:91.57878, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:21", client:'–û–û–û "–ì–µ—Ä–±–µ—Ä–∞"', valid:"06.06.2025, 06:28", sell:12234457, rate:91.58636, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:59", client:'–û–û–û "–ö–∞–ª–µ–Ω–¥—É–ª–∞"', valid:"06.06.2025, 11:56", sell:1976966, rate:91.64857, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:01", client:'–û–û–û "–ö–æ—Å–º–µ—è"', valid:"05.06.2025, 13:22", sell:19840364, rate:91.67617, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:44", client:'–û–û–û "–°–∏—Ä–µ–Ω—å"', valid:"06.06.2025, 03:35", sell:18788132, rate:91.75891, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:27", client:'–û–û–û "–õ–∞–≤–∞–Ω–¥–∞"', valid:"05.06.2025, 13:51", sell:12145349, rate:91.75985, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:03", client:'–û–û–û "–ê—Å—Ç—Ä–∞"', valid:"05.06.2025, 14:45", sell:15313925, rate:91.76025, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:42", client:'–û–û–û "–ö–∞–º–ø–∞–Ω—É–ª–∞"', valid:"05.06.2025, 15:02", sell:15805148, rate:91.76953, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:36", client:'–û–û–û "–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞"', valid:"06.06.2025, 03:03", sell:1917683, rate:91.82220, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:54", client:'–û–û–û "–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞"', valid:"05.06.2025, 19:57", sell:9434531, rate:91.89842, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:59", client:'–û–û–û "–ë—É–∑–∏–Ω–∞"', valid:"06.06.2025, 06:51", sell:8418332, rate:91.90297, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:35", client:'–û–û–û "–¶–∏–∫–ª–∞–º–µ–Ω"', valid:"06.06.2025, 10:37", sell:18548347, rate:91.95056, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:45", client:'–û–û–û "–ö–∞–º–µ–ª–∏—è"', valid:"06.06.2025, 01:34", sell:7272169, rate:91.97128, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:43", client:'–û–û–û "–ü—Ä–∏–º—É–ª–∞"', valid:"06.06.2025, 00:32", sell:3853657, rate:91.97721, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:45", client:'–û–û–û "–®–∞—Ñ—Ä–∞–Ω"', valid:"05.06.2025, 20:25", sell:14298153, rate:92.05535, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:18", client:'–û–û–û "–§—Ä–µ–∑–∏—è"', valid:"06.06.2025, 14:01", sell:4319822, rate:92.06541, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:52", client:'–û–û–û "–õ–∞–≤–∞–Ω–¥–∞"', valid:"05.06.2025, 17:48", sell:4803737, rate:92.07257, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:44", client:'–û–û–û "–ò—Ä–∏—Å"', valid:"05.06.2025, 13:43", sell:18385201, rate:92.12249, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:07", client:'–û–û–û "–ö—Ä–æ–∫—É—Å"', valid:"06.06.2025, 14:15", sell:8916145, rate:92.12274, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:31", client:'–û–û–û "–õ–æ—Ç–æ—Å"', valid:"05.06.2025, 20:54", sell:341284, rate:92.17688, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:28", client:'–û–û–û "–õ–∏–ª–∏—è"', valid:"05.06.2025, 15:39", sell:1166449, rate:92.18099, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:29", client:'–û–û–û "–ì–æ—Ä—Ç–µ–Ω–∑–∏—è"', valid:"05.06.2025, 16:04", sell:14265337, rate:92.25489, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:19", client:'–û–û–û "–ú—è—Ç–∞"', valid:"06.06.2025, 12:06", sell:7782011, rate:92.26221, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:26", client:'–û–û–û "–ì–µ—Ä–±–µ—Ä–∞"', valid:"05.06.2025, 12:18", sell:18239121, rate:92.30429, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:25", client:'–û–û–û "–ü–æ–¥—Å–æ–ª–Ω—É—Ö"', valid:"05.06.2025, 19:11", sell:13375203, rate:92.31088, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:17", client:'–û–û–û "–ñ–∞—Å–º–∏–Ω"', valid:"06.06.2025, 02:42", sell:18748490, rate:92.39318, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:37", client:'–û–û–û "–ú–∞–≥–Ω–æ–ª–∏—è"', valid:"05.06.2025, 19:38", sell:1637611, rate:92.40914, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:57", client:'–û–û–û "–≠–¥–µ–ª—å–≤–µ–π—Å"', valid:"06.06.2025, 06:36", sell:6849509, rate:92.51053, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:01", client:'–û–û–û "–ì–≤–æ–∑–¥–∏–∫–∞"', valid:"06.06.2025, 13:40", sell:14280586, rate:92.61164, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:20", client:'–û–û–û "–§–∏–∞–ª–∫–∞"', valid:"06.06.2025, 02:29", sell:18565853, rate:92.61604, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:50", client:'–û–û–û "–û–¥—É–≤–∞–Ω—á–∏–∫"', valid:"05.06.2025, 23:43", sell:17134339, rate:92.68334, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:18", client:'–û–û–û "–†–æ–∑–∞"', valid:"05.06.2025, 11:28", sell:2477578, rate:92.71927, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:32", client:'–û–û–û "–û—Ä—Ö–∏–¥–µ—è"', valid:"06.06.2025, 16:42", sell:8443522, rate:92.72335, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:31", client:'–û–û–û "–õ–∞–Ω–¥—ã—à"', valid:"06.06.2025, 11:21", sell:9053167, rate:92.76958, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:39", client:'–û–û–û "–ê–Ω–µ–º–æ–Ω–∞"', valid:"06.06.2025, 04:16", sell:13501657, rate:92.79565, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:27", client:'–û–û–û "–ü–µ—Ç—É–Ω–∏—è"', valid:"06.06.2025, 16:49", sell:119189, rate:92.84487, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 10:04", client:'–û–û–û "–ú–∞–≥–Ω–æ–ª–∏—è"', valid:"05.06.2025, 13:28", sell:8031579, rate:92.85273, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:46", client:'–û–û–û "–ì–ª–∞–¥–∏–æ–ª—É—Å"', valid:"05.06.2025, 21:26", sell:15367547, rate:92.85304, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 12:24", client:'–û–û–û "–ö–æ–ª–æ–∫–æ–ª—å—á–∏–∫"', valid:"05.06.2025, 21:34", sell:485239, rate:92.94216, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:25", client:'–û–û–û "–ê–ª—å—Å—Ç—Ä–æ–º–µ—Ä–∏—è"', valid:"06.06.2025, 01:57", sell:12629912, rate:92.99030, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"EURRUB", captured:"05.06.2025, 11:38", client:'–û–û–û "–ë–µ–≥–æ–Ω–∏—è"', valid:"05.06.2025, 19:38", sell:4741643, rate:92.99465, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:02", client:'–û–û–û "–†–æ–∑–∞"', valid:"05.06.2025, 12:10", sell:null, rate:11.00250, buy:5500000, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:08", client:'–û–û–û "–õ–∏–ª–∏—è"', valid:"05.06.2025, 16:40", sell:null, rate:11.02500, buy:25000000, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:15", client:'–û–û–û "–¢—é–ª—å–ø–∞–Ω"', valid:"05.06.2025, 13:55", sell:null, rate:11.04750, buy:1200000, mt:null, exec:"NTPro"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:22", client:'–û–û–û "–û—Ä—Ö–∏–¥–µ—è"', valid:"06.06.2025, 09:20", sell:null, rate:11.06000, buy:80000000, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:29", client:'–û–û–û "–ü–∏–æ–Ω"', valid:"05.06.2025, 14:05", sell:null, rate:11.07250, buy:15500000, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:34", client:'–û–û–û "–õ–∞–≤–∞–Ω–¥–∞"', valid:"06.06.2025, 11:30", sell:null, rate:11.08500, buy:35000000, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:41", client:'–û–û–û "–ñ–∞—Å–º–∏–Ω"', valid:"05.06.2025, 15:25", sell:null, rate:11.09750, buy:900000, mt:null, exec:"NTPro"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:47", client:'–û–û–û "–ì–µ—Ä–±–µ—Ä–∞"', valid:"06.06.2025, 13:15", sell:null, rate:11.11000, buy:60000000, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:53", client:'–û–û–û "–ê—Å—Ç—Ä–∞"', valid:"05.06.2025, 17:00", sell:null, rate:11.12250, buy:12300000, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 10:58", client:'–û–û–û "–§–∏–∞–ª–∫–∞"', valid:"06.06.2025, 08:40", sell:null, rate:11.13500, buy:22500000, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:05", client:'–û–û–û "–ö–∞–º–µ–ª–∏—è"', valid:"05.06.2025, 12:45", sell:null, rate:11.14000, buy:18000000, mt:null, exec:"NTPro"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:12", client:'–û–û–û "–ì–≤–æ–∑–¥–∏–∫–∞"', valid:"06.06.2025, 16:10", sell:null, rate:11.14250, buy:42000000, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:18", client:'–û–û–û "–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞"', valid:"05.06.2025, 18:20", sell:null, rate:11.14500, buy:7000000, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:23", client:'–û–û–û "–ò—Ä–∏—Å"', valid:"06.06.2025, 10:05", sell:null, rate:11.14750, buy:19500000, mt:"bulb", exec:"NTPro"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:28", client:'–û–û–û "–õ–æ—Ç–æ—Å"', valid:"06.06.2025, 14:30", sell:30000000, rate:11.15250, buy:null, mt:"bulb", exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:34", client:'–û–û–û "–ù–∞—Ä—Ü–∏—Å—Å"', valid:"05.06.2025, 16:05", sell:8500000, rate:11.16500, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:39", client:'–û–û–û "–ì–∏–∞—Ü–∏–Ω—Ç"', valid:"06.06.2025, 09:55", sell:55000000, rate:11.17750, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:45", client:'–û–û–û "–ö—Ä–æ–∫—É—Å"', valid:"05.06.2025, 19:10", sell:14000000, rate:11.19000, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:50", client:'–û–û–û "–ü–æ–¥—Å–æ–ª–Ω—É—Ö"', valid:"06.06.2025, 15:40", sell:26000000, rate:11.20250, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 11:56", client:'–û–û–û "–ë–µ–≥–æ–Ω–∏—è"', valid:"06.06.2025, 17:00", sell:100000000, rate:11.21500, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:02", client:'–û–û–û "–ö–∞–ª–µ–Ω–¥—É–ª–∞"', valid:"05.06.2025, 16:50", sell:3000000, rate:11.22750, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:07", client:'–û–û–û "–°–∏—Ä–µ–Ω—å"', valid:"06.06.2025, 12:20", sell:48000000, rate:11.24000, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:12", client:'–û–û–û "–ú–∞–≥–Ω–æ–ª–∏—è"', valid:"05.06.2025, 18:45", sell:18500000, rate:11.25250, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:18", client:'–û–û–û "–õ–∞–Ω–¥—ã—à"', valid:"06.06.2025, 07:25", sell:21000000, rate:11.26500, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:24", client:'–û–û–û "–ö–æ–ª–æ–∫–æ–ª—å—á–∏–∫"', valid:"05.06.2025, 15:55", sell:6500000, rate:11.27750, buy:null, mt:null, exec:"None"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:31", client:'–û–û–û "–ü—Ä–∏–º—É–ª–∞"', valid:"06.06.2025, 11:05", sell:32000000, rate:11.29000, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:37", client:'–û–û–û "–ê–Ω–µ–º–æ–Ω–∞"', valid:"05.06.2025, 19:35", sell:16200000, rate:11.29750, buy:null, mt:null, exec:"NTPro"}),
      mkRow({pair:"CNYRUB", captured:"05.06.2025, 12:44", client:'–û–û–û "–ü–µ—Ç—É–Ω–∏—è"', valid:"06.06.2025, 13:50", sell:45000000, rate:11.30000, buy:null, mt:null, exec:"Traders"}),
      mkRow({pair:"USDRUB", captured:"05.06.2025, 12:50", client:'–û–û–û "–û–¥—É–≤–∞–Ω—á–∏–∫"', valid:"06.06.2025, 16:20", sell:10000000, rate:78.20000, buy:null, mt:null, exec:"Traders"}),
    ];

    function mkRow({pair, captured, client, valid, sell, rate, buy, mt, exec}){
      return { pair, captured, client, valid, sell, rate, buy, mt, exec, id: cryptoRandomId() };
    }

    function cryptoRandomId(){
      // not cryptographic; just demo
      return Math.random().toString(16).slice(2,10);
    }

    // ------- Rendering -------
    const pairListEl = document.getElementById('pairList');
    const tbody = document.getElementById('tbody');
    const resultHint = document.getElementById('resultHint');

    let activePair = pairCodes[0];
    let filtered = [...rows];

    function getPairsWithCounts(){
      return pairCodes.map(code => ({
        code,
        count: rows.filter(row => row.pair === code).length
      }));
    }

    function renderPairs(){
      pairListEl.innerHTML = "";
      getPairsWithCounts().forEach(p => {
        const el = document.createElement('div');
        el.className = "pair" + (p.code === activePair ? " active" : "");
        el.innerHTML = `<span class="code">${p.code}</span><span class="count">${p.count}</span>`;
        el.addEventListener('click', () => {
          activePair = p.code;
          renderPairs();
          applyFilters();
        });
        pairListEl.appendChild(el);
      });
    }

    function fmtNum(n){
      if (n === null || n === undefined) return "";
      const s = Math.round(n).toString();
      return s.replace(/\B(?=(\d{3})+(?!\d))/g, " ") + ".00";
    }

    function fmtRate(n, pair){
      if (n === null || n === undefined) return "";
      if (pair === "EURRUB") return n.toFixed(2);
      return n.toFixed(5);
    }

    function renderTable(){
      tbody.innerHTML = "";
      filtered.forEach(r => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="checkbox"><input type="checkbox" /></td>
          <td>${r.captured}</td>
          <td>${r.client}</td>
          <td>${r.valid}</td>
          <td class="num">${fmtNum(r.sell)}</td>
          <td class="num">${fmtRate(r.rate, r.pair)}</td>
          <td class="num">${fmtNum(r.buy)}</td>
          <td>
            ${r.mt === "bulb" ? `<span class="badge"><span class="bulb">üí°</span></span>` : ``}
          </td>
          <td class="muted">${r.exec}</td>
          <td class="kebab" title="More">‚ãÆ</td>
        `;
        tbody.appendChild(tr);
      });
      resultHint.textContent = `Rows: ${filtered.length}`;
    }

    // ------- Filters -------
    function applyFilters(){
      if (!activePair) {
        activePair = pairCodes[0];
      }
      filtered = rows.filter(r => {
        const okPair = r.pair === activePair;
        return okPair;
      });
      filtered.sort((a, b) => a.rate - b.rate);

      renderPairs();
      renderTable();
    }

    document.getElementById('searchBtn').addEventListener('click', applyFilters);
    document.getElementById('resetBtn').addEventListener('click', () => {
      document.getElementById('createDate').value = "";
      applyFilters();
    });

    // ------- Toggle "Show all Orders" -------
    const toggleAll = document.getElementById('toggleAll');
    toggleAll.addEventListener('click', () => {
      toggleAll.classList.toggle('on');
      const on = toggleAll.classList.contains('on');
      toggleAll.setAttribute('aria-checked', on ? "true" : "false");
      // demo: no extra behavior, but –º–æ–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä/–ø–æ–¥–≥—Ä—É–∑–∫—É
    });

    // Init
    applyFilters();
  </script>
</body>
</html>
